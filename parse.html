<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>parser module &mdash; logsim  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="monitors module" href="monitors.html" />
    <link rel="prev" title="scanner module" href="scanner.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> logsim
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="symbol_types.html">symbol_types module</a></li>
<li class="toctree-l1"><a class="reference internal" href="exceptions.html">exceptions module</a></li>
<li class="toctree-l1"><a class="reference internal" href="names.html">names module</a></li>
<li class="toctree-l1"><a class="reference internal" href="scanner.html">scanner module</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">parser module</a></li>
<li class="toctree-l1"><a class="reference internal" href="monitors.html">monitors module</a></li>
<li class="toctree-l1"><a class="reference internal" href="devices.html">devices module</a></li>
<li class="toctree-l1"><a class="reference internal" href="network.html">network module</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui.html">gui module</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">logsim</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>parser module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/parse.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-parse">
<span id="parser-module"></span><h1>parser module<a class="headerlink" href="#module-parse" title="Permalink to this headline"></a></h1>
<p>Parse the definition file and build the logic network.</p>
<p>Used in the Logic Simulator project to analyse the syntactic and semantic
correctness of the symbols received from the scanner and then builds the
logic network.</p>
<dl class="py class">
<dt class="sig sig-object py" id="parse.Parser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">parse.</span></span><span class="sig-name descname"><span class="pre">Parser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">devices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">network</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">monitors</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scanner</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#parse.Parser" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Parse the definition file and build the logic network.</p>
<p>The parser deals with error handling. It analyses the syntactic and
semantic correctness of the symbols it receives from the scanner, and
then builds the logic network. If there are errors in the definition file,
the parser detects this and tries to recover from it, giving helpful
error messages.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>names</strong> – instance of the names.Names() class.</p></li>
<li><p><strong>devices</strong> – instance of the devices.Devices() class.</p></li>
<li><p><strong>network</strong> – instance of the network.Network() class.</p></li>
<li><p><strong>monitors</strong> – instance of the monitors.Monitors() class.</p></li>
<li><p><strong>scanner</strong> – instance of the scanner.Scanner() class.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="parse.Parser.add_connection">
<span class="sig-name descname"><span class="pre">add_connection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pin1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#parse.Parser.add_connection" title="Permalink to this definition"></a></dt>
<dd><p>Add connection between pin1 and pin2 if valid.</p>
<p>Parameters: pin1 = (out_pin1, device_name1, pin_name1),
pin2 = (out_pin2, device_name2, pin_name2)
out_pin = ‘out’ or ‘in’
device_name = string
pin_name = None or string</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parse.Parser.add_devices">
<span class="sig-name descname"><span class="pre">add_devices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">device_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gate_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameter</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#parse.Parser.add_devices" title="Permalink to this definition"></a></dt>
<dd><p>Add devices parsed by parse_device_statement, add errors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>devices</strong> (<em>device_names - list of names of</em>) – </p></li>
<li><p><strong>DeviceType.AND</strong><strong>|</strong><strong>NAND</strong><strong>|</strong><strong>NOR</strong><strong>|</strong><strong>OR</strong><strong>|</strong><strong>XOR</strong><strong>|</strong><strong>DTYPE</strong><strong>|</strong><strong>CLOCK</strong><strong>|</strong><strong>SWITCH</strong> (<em>gate_type -</em>) – </p></li>
<li><p><strong>None</strong> (<em>parameter - number or</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parse.Parser.add_monitors">
<span class="sig-name descname"><span class="pre">add_monitors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pins</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#parse.Parser.add_monitors" title="Permalink to this definition"></a></dt>
<dd><p>Add monitors pins.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parse.Parser.get_next">
<span class="sig-name descname"><span class="pre">get_next</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#parse.Parser.get_next" title="Permalink to this definition"></a></dt>
<dd><p>Get next symbol from scanner and set it as current symbol.</p>
<dl class="simple">
<dt>Return: False if there is end of file,</dt><dd><p>True if new symbol was successfully retrieved</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parse.Parser.parse_connection_block">
<span class="sig-name descname"><span class="pre">parse_connection_block</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#parse.Parser.parse_connection_block" title="Permalink to this definition"></a></dt>
<dd><p>Parse CONNECTIONS block.</p>
<p>EBNF syntax: “CONNECTIONS” , “:” , connection , { connection }
Return:
success - None(unexpected eof), False(syntax not ok), True(syntax ok)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parse.Parser.parse_connection_statement">
<span class="sig-name descname"><span class="pre">parse_connection_statement</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#parse.Parser.parse_connection_statement" title="Permalink to this definition"></a></dt>
<dd><p>Parse connection statement from CONNECTIONS block.</p>
<p>EBNF syntax: pin , “-” , pin , “;”</p>
<p>Return:
success - None(unexpected eof), False(syntax not ok), True(syntax ok)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parse.Parser.parse_device_block">
<span class="sig-name descname"><span class="pre">parse_device_block</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#parse.Parser.parse_device_block" title="Permalink to this definition"></a></dt>
<dd><p>Parse DEVICES block.</p>
<p>EBNF syntax: “DEVICES” , “:” , device_definition , {device_definition}</p>
<p>Return: True if successful parsing,
False if there was an error,
None if there was (unexpected) end of file</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parse.Parser.parse_device_type">
<span class="sig-name descname"><span class="pre">parse_device_type</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#parse.Parser.parse_device_type" title="Permalink to this definition"></a></dt>
<dd><p>Parse device type.</p>
<dl>
<dt>EBNF syntax: device_type = ( “CLOCK”, parameter )</dt><dd><div class="line-block">
<div class="line">( “SWITCH”, “&lt;” , ( “0” | “1” ) , “&gt;” )</div>
<div class="line">( ( “AND” | “NAND” | “OR” | “NOR” ), parameter )</div>
<div class="line">“XOR”</div>
<div class="line">“D_TYPE” ;</div>
</div>
<p>parameter = “&lt;” , digit , { digit } , “&gt;” ;</p>
</dd>
</dl>
<p>Return: success, (device_type, parameter)
success = None(unexpected eof), False(syntax not ok), True(syntax ok)
device_type = ‘AND’|’NAND’|’OR’|’NOR’|’XOR’|’CLOCK’|’SWITCH’|’DTYPE’
parameter = None or number</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parse.Parser.parse_devices_statement">
<span class="sig-name descname"><span class="pre">parse_devices_statement</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#parse.Parser.parse_devices_statement" title="Permalink to this definition"></a></dt>
<dd><p>Parse device statement from DEVICES block.</p>
<p>EBNF syntax: device_name ,{“,” , device_name}, “=” ,device_type ,”;”</p>
<p>Return: success, (device_names, gate_type, parameter)
success = None(unexpected eof), False(syntax not ok), True(syntax ok)
device_names = list of strings
gate_type = ‘AND’|’NAND’|’OR’|’NOR’|’XOR’|’CLOCK’|’SWITCH’|’DTYPE’
parameter = None or number</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parse.Parser.parse_monitor_statement">
<span class="sig-name descname"><span class="pre">parse_monitor_statement</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#parse.Parser.parse_monitor_statement" title="Permalink to this definition"></a></dt>
<dd><p>Parse monitor statement from MONITORS block.</p>
<p>EBNF syntax: pin , { “,” , pin } , “;”</p>
<p>Return: success, pins = {(out_pin, device_name, pin_name)}
success = None(unexpected eof), False(syntax not ok), True(syntax ok)
out_pin = ‘out’ or ‘in’
device_name = string
pin_name = None or string</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parse.Parser.parse_monitors_block">
<span class="sig-name descname"><span class="pre">parse_monitors_block</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#parse.Parser.parse_monitors_block" title="Permalink to this definition"></a></dt>
<dd><p>Parse MONITORS block.</p>
<p>EBNF syntax: “MONITORS” , “:” , [ monitor_statement ]
Return:
success - None(unexpected eof), False(syntax not ok), True(syntax ok)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parse.Parser.parse_network">
<span class="sig-name descname"><span class="pre">parse_network</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#parse.Parser.parse_network" title="Permalink to this definition"></a></dt>
<dd><p>Parse the circuit definition file.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parse.Parser.parse_pin">
<span class="sig-name descname"><span class="pre">parse_pin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection_statement</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#parse.Parser.parse_pin" title="Permalink to this definition"></a></dt>
<dd><p>Parse pin.</p>
<p>EBNF syntax:    pin = ( in_pin | out_pin ) ;
in_pin = ( device_name , “.” , ” I ” , digit_excluding_zero , [digit])
31 | ( device_name , “.” , (” DATA ” | ” CLK ” | ” SET ” | ” CLEAR “));
out_pin = device_name | ( device_name , “.” , ( ” Q ” | ” QBAR ” ) ) ;</p>
<dl class="simple">
<dt>Parameters: connection_statement = True if called from</dt><dd><p>parse_connection_statement
False if called from parse_monitors_statement</p>
</dd>
</dl>
<p>Return: success, (out_pin, device_name, pin_name)
success = None(unexpected eof), False(syntax not ok), True(syntax ok)
out_pin = ‘out’ or ‘in’
device_name = string
pin_name = None or string</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parse.Parser.skip_to_block">
<span class="sig-name descname"><span class="pre">skip_to_block</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keyword</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="symbol_types.html#symbol_types.KeywordType" title="symbol_types.KeywordType"><span class="pre">symbol_types.KeywordType</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#parse.Parser.skip_to_block" title="Permalink to this definition"></a></dt>
<dd><p>Skip all symbols until it gets to Keyword (eg CONNECTIONS).</p>
<dl class="simple">
<dt>Return: False if there is unexpected end of file</dt><dd><p>True if moved to block Keyword</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parse.Parser.skip_to_end_of_line">
<span class="sig-name descname"><span class="pre">skip_to_end_of_line</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#parse.Parser.skip_to_end_of_line" title="Permalink to this definition"></a></dt>
<dd><p>Update self.current_symbol until end of line SEMICOLON is reached.</p>
<dl class="simple">
<dt>Return: False if there was unexpected end of file</dt><dd><p>True if moved to end of line
None if found the next block, i.e.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parse.Parser.throw_error">
<span class="sig-name descname"><span class="pre">throw_error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">error_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#parse.Parser.throw_error" title="Permalink to this definition"></a></dt>
<dd><p>Add error with optional description to the list.</p>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="scanner.html" class="btn btn-neutral float-left" title="scanner module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="monitors.html" class="btn btn-neutral float-right" title="monitors module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, JS Bhoot, V Njaradi, W Zhang.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>